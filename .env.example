# =============================================================================
# Sinistra API — Environment Variables
# Copy this file to .env and fill in the required values.
# =============================================================================

# -----------------------------------------------------------------------------
# Database (required)
# For Turso cloud: TURSO_DATABASE_URL=libsql://<db>.turso.io
# For local file:  TURSO_DATABASE_URL=file:./db/sinistra.db (leave TURSO_AUTH_TOKEN empty)
# -----------------------------------------------------------------------------
TURSO_DATABASE_URL=file:./db/sinistra.db
TURSO_AUTH_TOKEN=

# -----------------------------------------------------------------------------
# API Authentication (required)
# Shared secret sent in the `apikey` header by all clients (dashboard, game watcher)
# -----------------------------------------------------------------------------
API_KEY=

# -----------------------------------------------------------------------------
# JWT (required)
# Used to sign user session tokens after Discord OAuth login
# -----------------------------------------------------------------------------
JWT_SECRET=
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Discord OAuth — login flow (required)
# Create an application at https://discord.com/developers/applications
# -----------------------------------------------------------------------------
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_REDIRECT_URI=http://localhost:3000/api/auth/discord/callback

# Discord Bot — used to fetch guild member roles after OAuth login (required)
DISCORD_BOT_TOKEN=
DISCORD_SERVER_ID=

# Discord Webhooks — optional; schedulers skip posting if unset
# To fan-out to multiple channels, add _2 … _5 suffixes (e.g. DISCORD_BGS_WEBHOOK_2=https://…)
DISCORD_BGS_WEBHOOK=
DISCORD_SHOUTOUT_WEBHOOK=
DISCORD_CONFLICT_WEBHOOK=
DISCORD_DEBUG_WEBHOOK=

# -----------------------------------------------------------------------------
# Inara API (required for commander sync scheduler)
# https://inara.cz/inapi/v1/
# -----------------------------------------------------------------------------
INARA_API_KEY=
INARA_APP_NAME=CIUChatBot

# -----------------------------------------------------------------------------
# Faction (required)
# Name of your BGS faction — used to filter summary queries
# -----------------------------------------------------------------------------
FACTION_NAME=Communism Interstellar Union

# -----------------------------------------------------------------------------
# Server (optional — defaults shown)
# -----------------------------------------------------------------------------
PORT=3000
HOST=0.0.0.0
NODE_ENV=production
SERVER_NAME=Sinistra Server
SERVER_URL=http://localhost:3000
FRONTEND_URL=http://localhost:8501

# -----------------------------------------------------------------------------
# Schedulers (optional — all default to enabled/standard values)
# Set ENABLE_SCHEDULERS=false to run the API without background jobs
# -----------------------------------------------------------------------------
ENABLE_SCHEDULERS=true
# TICK_POLL_INTERVAL_MS=300000        # 5 minutes
# EDDN_CLEANUP_INTERVAL_MS=3600000    # 1 hour
# EDDN_MESSAGE_RETENTION_MS=86400000  # 24 hours
